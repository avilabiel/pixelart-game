{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SpriteRender = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _spritejs = require(\"spritejs\");\n\nvar _ReactDOMFrameScheduling = require(\"./ReactDOMFrameScheduling\");\n\nvar _ReactDOMComponentTree = require(\"./ReactDOMComponentTree\");\n\nvar ReactFiberReconciler = require('react-reconciler');\n\nvar UPDATE_SIGNAL = {};\n\nfunction applyAttrs(target, props) {\n  var events = {};\n  props = Object.assign({}, props);\n  Object.keys(props).forEach(function (key) {\n    if (key.startsWith('on')) {\n      var eventName = key.slice(2).toLowerCase();\n      events[eventName] = props[key];\n      delete props[key];\n    }\n  });\n  if (typeof target === 'string') target = (0, _spritejs.createNode)(target, props);else target.attr(props);\n  Object.keys(events).forEach(function (key) {\n    target.__originalEvents = target.__originalEvents || {};\n    target.off(key, target.__originalEvents[key]);\n    target.on(key, events[key]);\n    target.__originalEvents[key] = events[key];\n  });\n  return target;\n}\n\nvar SpriteRender = ReactFiberReconciler({\n  appendInitialChild: function appendInitialChild(parent, child) {\n    parent.appendChild(child);\n  },\n  createInstance: function createInstance(type, props, scene) {\n    return applyAttrs(type, props);\n  },\n  createTextInstance: function createTextInstance(text, rootContainerInstance, scene) {// Noop\n  },\n  finalizeInitialChildren: function finalizeInitialChildren(domElement, type, props) {\n    return false;\n  },\n  getPublicInstance: function getPublicInstance(instance) {\n    return instance;\n  },\n  prepareForCommit: function prepareForCommit() {// Noop\n  },\n  prepareUpdate: function prepareUpdate(domElement, type, oldProps, newProps) {\n    return UPDATE_SIGNAL;\n  },\n  resetAfterCommit: function resetAfterCommit() {// Noop\n  },\n  resetTextContent: function resetTextContent(domElement) {// Noop\n  },\n  shouldDeprioritizeSubtree: function shouldDeprioritizeSubtree(type, props) {\n    return false;\n  },\n  getRootHostContext: function getRootHostContext() {\n    return {};\n  },\n  getChildHostContext: function getChildHostContext() {\n    return {};\n  },\n  rIC: _ReactDOMFrameScheduling.rIC,\n  shouldSetTextContent: function shouldSetTextContent(type, props) {\n    return false;\n  },\n  // cancelDeferredCallback: ReactScheduler.cancelDeferredCallback,\n  now: _ReactDOMFrameScheduling.now,\n  // The Konva renderer is secondary to the React DOM renderer.\n  isPrimaryRenderer: false,\n  supportsMutation: true,\n  // useSyncScheduling: true,\n  appendChild: function appendChild(parent, child) {\n    parent.appendChild(child);\n  },\n  appendChildToContainer: function appendChildToContainer(parent, child) {\n    parent.appendChild(child);\n  },\n  insertBefore: function insertBefore(parent, child, refchild) {\n    parent.insertBefore(child, refchild);\n  },\n  insertInContainerBefore: function insertInContainerBefore(parent, child, refchild) {\n    parent.insertBefore(child, refchild);\n  },\n  removeChild: function removeChild(parent, child) {\n    parent.removeChild(child);\n  },\n  removeChildFromContainer: function removeChildFromContainer(parent, child) {\n    parent.removeChild(child);\n  },\n  commitTextUpdate: function commitTextUpdate(textInstance, oldText, newText) {// Noop\n  },\n  commitMount: function commitMount(instance, type, newProps) {// Noop\n  },\n  commitUpdate: function commitUpdate(instance, updatePayload, type, oldProps, newProps) {\n    applyAttrs(instance, newProps);\n  }\n});\nexports.SpriteRender = SpriteRender;\nSpriteRender.injectIntoDevTools({\n  findFiberByHostInstance: _ReactDOMComponentTree.getClosestInstanceFromNode,\n  bundleType: process.env.NODE_ENV !== 'production' ? 1 : 0,\n  version: _react.default.version || 16,\n  rendererPackageName: 'react-sprite',\n  getInspectorDataForViewTag: function getInspectorDataForViewTag() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    console.log(args); // eslint-disable-line no-console\n  }\n});","map":{"version":3,"sources":["/Users/Gabriel/workspace/Personal/pixelart-game/node_modules/sprite-react/lib/SpriteRender.js"],"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","SpriteRender","_react","_spritejs","_ReactDOMFrameScheduling","_ReactDOMComponentTree","ReactFiberReconciler","UPDATE_SIGNAL","applyAttrs","target","props","events","assign","keys","forEach","key","startsWith","eventName","slice","toLowerCase","createNode","attr","__originalEvents","off","on","appendInitialChild","parent","child","appendChild","createInstance","type","scene","createTextInstance","text","rootContainerInstance","finalizeInitialChildren","domElement","getPublicInstance","instance","prepareForCommit","prepareUpdate","oldProps","newProps","resetAfterCommit","resetTextContent","shouldDeprioritizeSubtree","getRootHostContext","getChildHostContext","rIC","shouldSetTextContent","now","isPrimaryRenderer","supportsMutation","appendChildToContainer","insertBefore","refchild","insertInContainerBefore","removeChild","removeChildFromContainer","commitTextUpdate","textInstance","oldText","newText","commitMount","commitUpdate","updatePayload","injectIntoDevTools","findFiberByHostInstance","getClosestInstanceFromNode","bundleType","process","env","NODE_ENV","version","default","rendererPackageName","getInspectorDataForViewTag","_len","arguments","length","args","Array","_key","console","log"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SpriteRender = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _spritejs = require(\"spritejs\");\n\nvar _ReactDOMFrameScheduling = require(\"./ReactDOMFrameScheduling\");\n\nvar _ReactDOMComponentTree = require(\"./ReactDOMComponentTree\");\n\nvar ReactFiberReconciler = require('react-reconciler');\n\nvar UPDATE_SIGNAL = {};\n\nfunction applyAttrs(target, props) {\n  var events = {};\n  props = Object.assign({}, props);\n  Object.keys(props).forEach(function (key) {\n    if (key.startsWith('on')) {\n      var eventName = key.slice(2).toLowerCase();\n      events[eventName] = props[key];\n      delete props[key];\n    }\n  });\n  if (typeof target === 'string') target = (0, _spritejs.createNode)(target, props);else target.attr(props);\n  Object.keys(events).forEach(function (key) {\n    target.__originalEvents = target.__originalEvents || {};\n    target.off(key, target.__originalEvents[key]);\n    target.on(key, events[key]);\n    target.__originalEvents[key] = events[key];\n  });\n  return target;\n}\n\nvar SpriteRender = ReactFiberReconciler({\n  appendInitialChild: function appendInitialChild(parent, child) {\n    parent.appendChild(child);\n  },\n  createInstance: function createInstance(type, props, scene) {\n    return applyAttrs(type, props);\n  },\n  createTextInstance: function createTextInstance(text, rootContainerInstance, scene) {// Noop\n  },\n  finalizeInitialChildren: function finalizeInitialChildren(domElement, type, props) {\n    return false;\n  },\n  getPublicInstance: function getPublicInstance(instance) {\n    return instance;\n  },\n  prepareForCommit: function prepareForCommit() {// Noop\n  },\n  prepareUpdate: function prepareUpdate(domElement, type, oldProps, newProps) {\n    return UPDATE_SIGNAL;\n  },\n  resetAfterCommit: function resetAfterCommit() {// Noop\n  },\n  resetTextContent: function resetTextContent(domElement) {// Noop\n  },\n  shouldDeprioritizeSubtree: function shouldDeprioritizeSubtree(type, props) {\n    return false;\n  },\n  getRootHostContext: function getRootHostContext() {\n    return {};\n  },\n  getChildHostContext: function getChildHostContext() {\n    return {};\n  },\n  rIC: _ReactDOMFrameScheduling.rIC,\n  shouldSetTextContent: function shouldSetTextContent(type, props) {\n    return false;\n  },\n  // cancelDeferredCallback: ReactScheduler.cancelDeferredCallback,\n  now: _ReactDOMFrameScheduling.now,\n  // The Konva renderer is secondary to the React DOM renderer.\n  isPrimaryRenderer: false,\n  supportsMutation: true,\n  // useSyncScheduling: true,\n  appendChild: function appendChild(parent, child) {\n    parent.appendChild(child);\n  },\n  appendChildToContainer: function appendChildToContainer(parent, child) {\n    parent.appendChild(child);\n  },\n  insertBefore: function insertBefore(parent, child, refchild) {\n    parent.insertBefore(child, refchild);\n  },\n  insertInContainerBefore: function insertInContainerBefore(parent, child, refchild) {\n    parent.insertBefore(child, refchild);\n  },\n  removeChild: function removeChild(parent, child) {\n    parent.removeChild(child);\n  },\n  removeChildFromContainer: function removeChildFromContainer(parent, child) {\n    parent.removeChild(child);\n  },\n  commitTextUpdate: function commitTextUpdate(textInstance, oldText, newText) {// Noop\n  },\n  commitMount: function commitMount(instance, type, newProps) {// Noop\n  },\n  commitUpdate: function commitUpdate(instance, updatePayload, type, oldProps, newProps) {\n    applyAttrs(instance, newProps);\n  }\n});\nexports.SpriteRender = SpriteRender;\nSpriteRender.injectIntoDevTools({\n  findFiberByHostInstance: _ReactDOMComponentTree.getClosestInstanceFromNode,\n  bundleType: process.env.NODE_ENV !== 'production' ? 1 : 0,\n  version: _react.default.version || 16,\n  rendererPackageName: 'react-sprite',\n  getInspectorDataForViewTag: function getInspectorDataForViewTag() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    console.log(args); // eslint-disable-line no-console\n  }\n});"]},"metadata":{},"sourceType":"script"}